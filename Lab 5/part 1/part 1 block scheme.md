```mermaid
flowchart TD
    A([Start]) --> B[Задать параметры CAP N_PUSH N_POP]
    B --> C[Объявить указатели GPU и CPU]
    C --> D[Выделить память на GPU]
    D --> E{Ошибки CUDA есть}
    E -->|Да| X1[Вывести сообщение об ошибке]
    X1 --> Z([End])
    E -->|Нет| F[Инициализировать стек]
    F --> G[Синхронизация GPU]
    G --> H[Рассчитать размеры сетки и блока]
    H --> I[Запуск kernel_push]
    I --> J[Синхронизация GPU]
    J --> K[Запуск kernel_pop]
    K --> L[Синхронизация GPU]
    L --> M[Запуск kernel_get_top]
    M --> N[Синхронизация GPU]
    N --> O[Выделить память на CPU]
    O --> P[Копировать данные с GPU на CPU]
    P --> Q[Подсчитать успешные операции push и pop]
    Q --> R[Вывести результаты]
    R --> S[Освободить память GPU]
    S --> T[Освободить память CPU]
    T --> Z([End])
