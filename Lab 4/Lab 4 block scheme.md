```mermaid
flowchart TD
    A([Start]) --> B[Выбрать размер массива N]
    B --> C[Создать массив на CPU]
    C --> D[Заполнить массив случайными числами]
    D --> E[Выделить память на GPU]
    E --> F[Скопировать данные с CPU на GPU]
    F --> G[Обнулить переменную результата]

    G --> H{Вариант редукции}

    H -->|Часть 1| I[Запуск ядра sum_global]
    I --> J[Потоки складывают элементы в global memory]
    J --> K[Синхронизация GPU]
    K --> L[Скопировать результат на CPU]
    L --> M[Вывести сумму и время]

    H -->|Часть 2| N[Запуск ядра sum_shared]
    N --> O[Копирование данных в shared memory]
    O --> P[Редукция суммы внутри блока]
    P --> Q[Добавление суммы блока в общий результат]
    Q --> R[Синхронизация GPU]
    R --> S[Скопировать результат на CPU]
    S --> T[Вывести сумму и время]

    M --> U[Освободить память]
    T --> U
    U --> V{Есть следующий размер N}
    V -->|Да| B
    V -->|Нет| W([End])
